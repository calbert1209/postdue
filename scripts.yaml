scripts:
  start: &start
    desc: run server
    cmd: ./src/index.ts
    lock: ./lock.json
    cachedOnly: true
    allow:
      - net
      - read
      - write
      - env

  dev:
    <<: *start
    desc: run server in watch mode
    watch: true

  lock_cache:
    desc: store subresource integrity for modules
    cmd: deno cache --lock=lock.json --lock-write ./deps.ts

  install:
    desc: download the project's dependencies into the machine's cache using integrity check
    cmd: deno cache --reload --lock=./lock.json ./deps.ts